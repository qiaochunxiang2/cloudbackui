<nz-modal
  [(nzVisible)]="isVisible"
  [nzTitle]="modalTitle"
  [nzContent]="modalContent"
  [nzFooter]="modalFooter"
  (nzOnCancel)="back()"
>
</nz-modal>
<ng-template #modalTitle>
  添加部门
</ng-template>

<ng-template #modalContent>
  <nz-form-item style="padding-top: 10px">
    <nz-form-label [nzXXl]="8" [nzXl]="8" [nzLg]="8" [nzMd]="10" [nzSm]="12" [nzXs]="18"
                   nzRequired>部门名称
    </nz-form-label>
    <nz-form-control [nzXXl]="15" [nzXl]="15" [nzLg]="15" [nzMd]="13" [nzSm]="11"
                     [nzXs]="6" [nzValidateStatus]="!nameRequired?'success':'error'"
                     [nzHasFeedback]="nameRequired">
      <input nz-input name="name" [(ngModel)]="departmentData.name" (ngModelChange)="nameChange()">
      <nz-form-explain *ngIf="nameRequired">{{'请输入部门名称'}}</nz-form-explain>
    </nz-form-control>
  </nz-form-item>
  <nz-form-item style="padding-top: 20px">
    <nz-form-label [nzXXl]="8" [nzXl]="8" [nzLg]="8" [nzMd]="10" [nzSm]="12" [nzXs]="18"
                   nzRequired>所属公司
    </nz-form-label>
    <nz-form-control [nzXXl]="15" [nzXl]="15" [nzLg]="15" [nzMd]="13" [nzSm]="11"
                     [nzXs]="6" [nzValidateStatus]="!companyRequired?'success':'error'"
                     [nzHasFeedback]="companyRequired">
      <nz-select nzShowSearch nzAllowClear nzPlaceHolder="请选择公司" [(ngModel)]="departmentData.cId" (ngModelChange)="cIdChange()">
        <nz-option *ngFor="let company of listCompany" [nzLabel]="company?.name" [nzValue]="company.id"></nz-option>
      </nz-select>
      <nz-form-explain *ngIf="companyRequired">{{'请选择公司'}}</nz-form-explain>
    </nz-form-control>
  </nz-form-item>
</ng-template>

<ng-template #modalFooter>
  <button nz-button nzType="primary" [nzLoading]="isConfirmLoading" (click)="save()">保存</button>
  <button nz-button nzType="default" (click)="back()">取消</button>
</ng-template>
